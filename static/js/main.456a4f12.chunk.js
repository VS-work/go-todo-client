(this["webpackJsonpgo-todo-client"]=this["webpackJsonpgo-todo-client"]||[]).push([[0],{190:function(e,t,n){e.exports=n(403)},403:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),u=(n(70),n(71),n(29)),i=n.n(u),l=n(30),d=n(405),s=n(182),f=n(174),p=n.n(f).a.create({baseURL:"https://dry-woodland-14649.herokuapp.com",headers:{"Content-Type":"application/json"}}),m=n(86),O=n(129),b=n(93),v=n(20),E=n(410),j=n(404),y=n(406),w=n(409),g=n(407),h=n(408);var x=g.a.create({name:"editData"})((function(e){var t=e.form;Object(a.useEffect)((function(){0!==e.submitFlag&&t.validateFields((function(n,a){n||(e.handleEditOk(a),t.resetFields())}))}),[e.submitFlag]);var n=e.form.getFieldDecorator;return r.a.createElement(g.a,null,r.a.createElement(g.a.Item,null,n("content",{rules:[{required:!0,message:"Please input content!"}]})(r.a.createElement(h.a,{placeholder:"Content"}))))}));function k(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(!1),d=Object(l.a)(u,1)[0],s=Object(a.useState)(0),f=Object(l.a)(s,2),g=f[0],h=f[1],k=Object(a.useState)(),S=Object(l.a)(k,2),C=S[0],I=S[1],D=Object(a.useState)(),T=Object(l.a)(D,2),F=T[0],L=T[1],P=Object(a.useState)(0),_=Object(l.a)(P,2),A=_[0],B=_[1],N=Object(a.useState)(0),R=Object(l.a)(N,2),H=R[0],G=R[1],J=Object(a.useState)(null),q=Object(l.a)(J,2),M=q[0],U=q[1],V=["Normal","Low","High"];Object(a.useEffect)((function(){return e=A,void(A>0&&function(){var t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(p.delete("todo/".concat(e)));case 2:t=Object(O.a)(F.filter((function(t){return t.key!==e}))),L(t);case 4:case"end":return n.stop()}}))}());var e}),[A]),Object(a.useEffect)((function(){return e=H,void(H>0&&function(){var t,n;i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=F.findIndex((function(t){return t.rowid===e})),(n=Object.assign({},F[t])).completed=1,a.next=5,i.a.awrap(p.put("todo/".concat(e),n));case 5:L(F.map((function(t){return t.rowid===e?n:t})));case 6:case"end":return a.stop()}}))}());var e}),[H]),Object(a.useEffect)((function(){var e;null!==(e=M)&&function(){var t,n;i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=F.findIndex((function(t){return t.rowid===e.rowid})),(n=Object.assign({},F[t])).priority=e.e.target.value,a.next=5,i.a.awrap(p.put("todo/".concat(e.rowid),n));case 5:L(F.map((function(t){return t.rowid===e.rowid?n:t})));case 6:case"end":return a.stop()}}))}()}),[M]),Object(a.useEffect)((function(){if(e.data){I([{title:"Content",dataIndex:"content",key:"content"},{title:"Priority",dataIndex:"priority",render:function(e,t){return 0!=t.completed?r.a.createElement("div",null,V[t.priority]):r.a.createElement(b.a.Group,{defaultValue:t.priority,onChange:function(e){return function(e,t){return U({e:e,rowid:t})}(e,t.key)}},r.a.createElement(b.a.Button,{value:1},"Low"),r.a.createElement(b.a.Button,{value:0},"Normal"),r.a.createElement(b.a.Button,{value:2},"High"))}},{title:"Status",dataIndex:"completed",render:function(e,t){return"0"==e?r.a.createElement(v.a,{type:"primary",onClick:function(){return e=t.key,G(e);var e}},"Complete"):r.a.createElement(E.a,{color:"blue"},"Completed")}},{title:"...",dataIndex:"operation",render:function(e,t){return r.a.createElement(j.a,{title:"Sure to delete?",onConfirm:function(){return e=t.key,B(e);var e}},r.a.createElement("a",null,"Delete"))}}]);var t=e.data.map((function(e){return Object(m.a)({},e,{key:e.rowid})}));L(t)}}),[e.data]);return C?r.a.createElement("div",null,r.a.createElement(v.a,{onClick:function(){return o(!0)},type:"primary",style:{margin:10}},"Add new Todo"),r.a.createElement(y.a,{columns:C,dataSource:F,pagination:!1,scroll:{y:240}}),r.a.createElement(w.a,{title:"New Todo",visible:c,onOk:function(){h(g+1)},confirmLoading:d,onCancel:function(){o(!1)}},r.a.createElement(x,{submitFlag:g,handleEditOk:function(e){!function(){var t,n;i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(p.post("todo",e));case 2:t=a.sent,(n=t.data).key=n.rowid,L([n].concat(Object(O.a)(F))),o(!1);case 7:case"end":return a.stop()}}))}()}}))):r.a.createElement(r.a.Fragment,null)}var S=d.a.Content;d.a.Footer;function C(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),f=u[0],m=u[1];return Object(a.useEffect)((function(){!function(){var e;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,i.a.awrap(p.get("todos"));case 3:e=t.sent,c(e.data),m(!1);case 6:case"end":return t.stop()}}))}()}),[]),f?r.a.createElement(s.a,{tip:"Loading..."}):r.a.createElement(d.a,null,r.a.createElement(S,null,r.a.createElement("div",{style:{padding:24,background:"#fff",textAlign:"center"}},r.a.createElement(k,{data:n}))))}var I,D,T=Object(a.createContext)(),F=function(e){var t=e.reducer,n=e.initialState,c=e.children;return r.a.createElement(T.Provider,{value:Object(a.useReducer)(t,n),children:c})},L=n(58),P=function(e,t){var n=t.payload;return Object(m.a)({},e,{todo:n.todo})},_=(I={},Object(L.a)(I,"ADD_TODO",P),Object(L.a)(I,"SET_TODO_COMPLETED",P),Object(L.a)(I,"CHANGE_TODO_PRIORITY",P),D=I,function(e,t){return D.hasOwnProperty(t.type)?D[t.type](e,t):e}),A={};o.a.render(r.a.createElement(F,{initialState:A,reducer:_},r.a.createElement(C,null)),document.getElementById("root"))},71:function(e,t,n){}},[[190,1,2]]]);
//# sourceMappingURL=main.456a4f12.chunk.js.map