(this["webpackJsonpgo-todo-client"]=this["webpackJsonpgo-todo-client"]||[]).push([[0],{189:function(e,t,n){e.exports=n(405)},405:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(70),n(71),n(31)),u=n.n(i),l=n(32),s=n(407),d=n(412),p=n(181),f=n(173),m=n.n(f);n(211).config();var v="https://dry-woodland-14649.herokuapp.com";console.log(111,v,Object({NODE_ENV:"production",PUBLIC_URL:"/go-todo-client",REACT_APP_API_URL:"https://dry-woodland-14649.herokuapp.com"}));var b=m.a.create({baseURL:v,headers:{"Content-Type":"application/json"}}),E=n(186),O=n(128),g=n(93),j=n(20),w=n(413),y=n(406),h=n(408),x=n(411),k=n(409),I=n(410);var C=k.a.create({name:"editData"})((function(e){var t=e.form;Object(a.useEffect)((function(){0!==e.submitFlag&&t.validateFields((function(n,a){n||(e.handleEditOk(a),t.resetFields())}))}),[e.submitFlag]);var n=e.form.getFieldDecorator;return r.a.createElement(k.a,null,r.a.createElement(k.a.Item,null,n("content",{rules:[{required:!0,message:"Please input content!"}]})(r.a.createElement(I.a,{autoFocus:!0,placeholder:"Content"}))))}));function S(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,1)[0],p=Object(a.useState)(0),f=Object(l.a)(p,2),m=f[0],v=f[1],k=Object(a.useState)(),I=Object(l.a)(k,2),S=I[0],P=I[1],A=Object(a.useState)(),D=Object(l.a)(A,2),F=D[0],L=D[1],B=Object(a.useState)(0),N=Object(l.a)(B,2),_=N[0],R=N[1],T=Object(a.useState)(0),U=Object(l.a)(T,2),H=U[0],J=U[1],V=Object(a.useState)(null),q=Object(l.a)(V,2),G=q[0],z=q[1],K=["Normal","Low","High"];Object(a.useEffect)((function(){return e=_,void(_>0&&function(){var t;u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(b.delete("todo/".concat(e)));case 3:t=Object(O.a)(F.filter((function(t){return t.key!==e}))),L(t),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),d.a.open({message:"API issue",description:"Data removing error..."});case 11:case"end":return n.stop()}}),null,null,[[0,7]])}());var e}),[_]),Object(a.useEffect)((function(){return e=H,void(H>0&&function(){var t,n;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=F.findIndex((function(t){return t.rowid===e})),(n=Object.assign({},F[t])).completed=1,a.next=6,u.a.awrap(b.put("todo/".concat(e),n));case 6:L(F.map((function(t){return t.rowid===e?n:t}))),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0),d.a.open({message:"API issue",description:"Data modification error..."});case 13:case"end":return a.stop()}}),null,null,[[0,9]])}());var e}),[H]),Object(a.useEffect)((function(){var e;null!==(e=G)&&function(){var t,n;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=F.findIndex((function(t){return t.rowid===e.rowid})),(n=Object.assign({},F[t])).priority=e.e.target.value,a.next=6,u.a.awrap(b.put("todo/".concat(e.rowid),n));case 6:L(F.map((function(t){return t.rowid===e.rowid?n:t}))),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0),d.a.open({message:"API issue",description:"Data modification error..."});case 13:case"end":return a.stop()}}),null,null,[[0,9]])}()}),[G]),Object(a.useEffect)((function(){if(e.data){P([{title:"Content",dataIndex:"content",key:"content"},{title:"Priority",dataIndex:"priority",render:function(e,t){return 0!=t.completed?r.a.createElement("div",null,K[t.priority]):r.a.createElement(g.a.Group,{defaultValue:t.priority,onChange:function(e){return function(e,t){return z({e:e,rowid:t})}(e,t.key)}},r.a.createElement(g.a.Button,{value:1},"Low"),r.a.createElement(g.a.Button,{value:0},"Normal"),r.a.createElement(g.a.Button,{value:2},"High"))}},{title:"Status",dataIndex:"completed",render:function(e,t){return"0"==e?r.a.createElement(j.a,{type:"primary",onClick:function(){return e=t.key,J(e);var e}},"Complete"):r.a.createElement(w.a,{color:"blue"},"Completed")}},{title:"...",dataIndex:"operation",render:function(e,t){return r.a.createElement(y.a,{title:"Sure to delete?",onConfirm:function(){return e=t.key,R(e);var e}},r.a.createElement("a",null,"Delete"))}}]);var t=e.data.map((function(e){return Object(E.a)({},e,{key:e.rowid})}));L(t)}}),[e.data]);return S?r.a.createElement("div",null,r.a.createElement(j.a,{onClick:function(){return o(!0)},type:"primary",style:{margin:10}},"Add new Todo"),r.a.createElement(h.a,{columns:S,dataSource:F,pagination:!1,scroll:{y:240}}),r.a.createElement(x.a,{title:"New Todo",visible:c,onOk:function(){v(m+1)},confirmLoading:s,onCancel:function(){o(!1)}},r.a.createElement(C,{submitFlag:m,handleEditOk:function(e){!function(){var t,n;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.awrap(b.post("todo",e));case 3:t=a.sent,(n=t.data).key=n.rowid,L([n].concat(Object(O.a)(F))),o(!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0),d.a.open({message:"API issue",description:"Data creation error..."});case 14:case"end":return a.stop()}}),null,null,[[0,10]])}()}}))):r.a.createElement(r.a.Fragment,null)}var P=s.a.Content;function A(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),f=i[0],m=i[1];return Object(a.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),t.next=4,u.a.awrap(b.get("todos"));case 4:e=t.sent,c(e.data),m(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),d.a.open({message:"API issue",description:"Data reading error..."});case 13:case"end":return t.stop()}}),null,null,[[0,9]])}()}),[]),f?r.a.createElement(p.a,{tip:"Loading..."}):r.a.createElement(s.a,null,r.a.createElement(P,null,r.a.createElement("div",{style:{padding:24,background:"#fff",textAlign:"center"}},r.a.createElement(S,{data:n}))))}o.a.render(r.a.createElement(A,null),document.getElementById("root"))},71:function(e,t,n){}},[[189,1,2]]]);
//# sourceMappingURL=main.fca62efc.chunk.js.map